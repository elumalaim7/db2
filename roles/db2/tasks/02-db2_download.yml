---
- name: Create temp directories
  file:
   path: "{{ item }}"
   state: directory
   mode: 0777
  with_items:
    - "{{ tmp_dir }}/db2"

- name: Create installation directories and subdirectories
  file: 
   path: "{{ item }}"
   state: directory 
   mode: 0755
  with_items:
    - "{{ db2_install_dir }}/ibm/"
    - "{{ db2_install_dir }}/ibm/db2"
    - "{{ db2_install_dir }}/ibm/db2/v11.1.4"


# - name: copy DB2 packages to destination server
#   copy:
#     src: "files/{{ db2_package }}"
#     dest: "{{ tmp_dir }}/db2/{{ db2_package }}"
#     mode: 0755
#     force: yes 

- name: Unarchive the db2 packages on target server
  unarchive:
    src: "{{ tmp_dir }}/{{ db2_package }}"
    dest: "{{ db2_home_path }}"
    remote_src: yes 
    force: yes   
  
  

    
    